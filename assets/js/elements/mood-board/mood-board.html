<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../mood-chart/mood-chart.html">
<link rel="import" href="../mood-bar/mood-bar.html">
<link rel="import" href="../mood-box/mood-box.html">
<link rel="import" href="../../../bower_components/core-media-query/core-media-query.html">

<polymer-element name="mood-board" attributes="data height boxes">
  <template>
    <style>
      :host {
        display: block;
				padding-bottom: 20px;
      }
    </style>

		<core-media-query query="max-width: 991px" queryMatches="{{phoneScreen}}"></core-media-query>
		<div layout vertical?="{{phoneScreen}}" horizontal?="{{!phoneScreen}}">
			<div flex five>
				<mood-chart id="chart" flex five height={{height}} data={{data}} unresolved></mood-chart>
			</div>
			<div flex>
				<mood-bar height={{height}}>
					<mood-box type="love">{{boxes.love}}</mood-box>
					<mood-box type="health">{{boxes.health}}</mood-box>
					<mood-box type="money">{{boxes.money}}</mood-box>
				</mood-bar>
			</div>
		</div>
  </template>

  <script>
    (function () {
      Polymer({
				created: function() {
					this.boxes = {
						"love": "-",
						"money": "-",
						"health": "-"
					};
					this.data = [[]];
				},

				ready: function() {
					window.addEventListener('resize', function (e) {
						document.querySelector('mood-board').resize();
					});
				},

				resize: function() {
					this.$.chart.resize();
				}
      });
    })();
  </script>
</polymer-element>
